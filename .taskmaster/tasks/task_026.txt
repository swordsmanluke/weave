# Task ID: 26
# Title: Implement Shell Integration
# Status: pending
# Dependencies: 23, 22, 18
# Priority: medium
# Description: Add backtick shell execution syntax, shell result containers with :success and :output keys, and bash pipe support for executing system commands from within Weave.
# Details:
Implement comprehensive shell integration for the Weave language: 1) Add BACKTICK token to scanner.rs for shell command recognition - handle backtick-delimited strings like `ls -la` as shell execution syntax, support escaped backticks and multi-line commands. 2) Extend parser.rs to parse backtick expressions as primary expressions - treat backtick content as shell command string, add shell execution parsing rules to expression grammar. 3) Create WeaveShellResult container type using WeaveContainer infrastructure - implement shell result as container with :success boolean key and :output string key, use symbol-based key access for result inspection. 4) Add execute_shell native function to VM - use std::process::Command for cross-platform shell execution, capture stdout/stderr streams, handle command exit codes and convert to success boolean. 5) Implement bash pipe support within shell commands - allow complex bash pipelines like `cat file.txt | grep pattern | wc -l` to be executed as single shell commands. 6) Add proper error handling for shell execution failures - handle command not found, permission errors, and timeout scenarios with appropriate Weave error types. 7) Integrate with existing container indexing system - enable result[:success] and result[:output] access patterns using established container access mechanisms.

# Test Strategy:
Create comprehensive test suite for shell integration: 1) Scanner tests verifying backtick tokenization with various command strings, escaped backticks, and multi-line commands. 2) Parser tests for backtick expressions in various contexts, shell command assignment to variables, and integration with other expressions. 3) VM execution tests for basic shell commands (`echo hello`), command success/failure detection, stdout capture, and stderr handling. 4) Container integration tests verifying shell result access via result[:success] and result[:output] patterns. 5) Bash pipe tests for complex command chains (`ls | grep txt | wc -l`) and pipe error propagation. 6) Cross-platform compatibility tests for Windows cmd.exe vs Unix shell differences. 7) Error handling tests for invalid commands, permission failures, and timeout scenarios. 8) Integration tests combining shell execution with container operations and symbol-based access patterns.
